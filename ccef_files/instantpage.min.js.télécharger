/*! instant.page v5.2.0 - (C) 2019-2023 Alexandre Dieulot - https://instant.page/license */
let _chromiumMajorVersionInUserAgent=null,_allowQueryString,_allowExternalLinks,_useWhitelist,_delayOnHover=65,_lastTouchTimestamp,_mouseoverTimer,_preloadedList=new Set;const DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION=1111;init();function init(){const e=document.createElement("link").relList.supports("prefetch");if(!e){return}const t="instantVaryAccept"in document.body.dataset||"Shopify"in window;const n=navigator.userAgent.indexOf("Chrome/");if(n>-1){_chromiumMajorVersionInUserAgent=parseInt(navigator.userAgent.substring(n+"Chrome/".length))}if(t&&_chromiumMajorVersionInUserAgent&&_chromiumMajorVersionInUserAgent<110){return}const o="instantMousedownShortcut"in document.body.dataset;_allowQueryString="instantAllowQueryString"in document.body.dataset;_allowExternalLinks="instantAllowExternalLinks"in document.body.dataset;_useWhitelist="instantWhitelist"in document.body.dataset;const r={capture:true,passive:true};let i=false;let s=false;let a=false;if("instantIntensity"in document.body.dataset){const e=document.body.dataset.instantIntensity;if(e.startsWith("mousedown")){i=true;if(e=="mousedown-only"){s=true}}else if(e.startsWith("viewport")){const t=navigator.connection&&navigator.connection.saveData;const n=navigator.connection&&navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g");if(!t&&!n){if(e=="viewport"){if(document.documentElement.clientWidth*document.documentElement.clientHeight<45e4){a=true}}else if(e=="viewport-all"){a=true}}}else{const t=parseInt(e);if(!isNaN(t)){_delayOnHover=t}}}if(!s){document.addEventListener("touchstart",touchstartListener,r)}if(!i){document.addEventListener("mouseover",mouseoverListener,r)}else if(!o){document.addEventListener("mousedown",mousedownListener,r)}if(o){document.addEventListener("mousedown",mousedownShortcutListener,r)}if(a){let e=window.requestIdleCallback;if(!e){e=e=>{e()}}e((function e(){const t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;t.unobserve(n);preload(n.href)}}))}));document.querySelectorAll("a").forEach((e=>{if(isPreloadable(e)){t.observe(e)}}))}),{timeout:1500})}}function touchstartListener(e){_lastTouchTimestamp=performance.now();const t=e.target.closest("a");if(!isPreloadable(t)){return}preload(t.href,"high")}function mouseoverListener(e){if(performance.now()-_lastTouchTimestamp<DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION){return}if(!("closest"in e.target)){return}const t=e.target.closest("a");if(!isPreloadable(t)){return}t.addEventListener("mouseout",mouseoutListener,{passive:true});_mouseoverTimer=setTimeout((()=>{preload(t.href,"high");_mouseoverTimer=undefined}),_delayOnHover)}function mousedownListener(e){const t=e.target.closest("a");if(!isPreloadable(t)){return}preload(t.href,"high")}function mouseoutListener(e){if(e.relatedTarget&&e.target.closest("a")==e.relatedTarget.closest("a")){return}if(_mouseoverTimer){clearTimeout(_mouseoverTimer);_mouseoverTimer=undefined}}function mousedownShortcutListener(e){if(performance.now()-_lastTouchTimestamp<DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION){return}const t=e.target.closest("a");if(e.which>1||e.metaKey||e.ctrlKey){return}if(!t){return}t.addEventListener("click",(function(e){if(e.detail==1337){return}e.preventDefault()}),{capture:true,passive:false,once:true});const n=new MouseEvent("click",{view:window,bubbles:true,cancelable:false,detail:1337});t.dispatchEvent(n)}function isPreloadable(e){if(!e||!e.href){return}if(_useWhitelist&&!("instant"in e.dataset)){return}if(e.origin!=location.origin){let t=_allowExternalLinks||"instant"in e.dataset;if(!t||!_chromiumMajorVersionInUserAgent){return}}if(!["http:","https:"].includes(e.protocol)){return}if(e.protocol=="http:"&&location.protocol=="https:"){return}if(!_allowQueryString&&e.search&&!("instant"in e.dataset)){return}if(e.hash&&e.pathname+e.search==location.pathname+location.search){return}if("noInstant"in e.dataset){return}return true}function preload(e,t="auto"){if(_preloadedList.has(e)){return}const n=document.createElement("link");n.rel="prefetch";n.href=e;n.fetchPriority=t;n.as="document";document.head.appendChild(n);_preloadedList.add(e)}